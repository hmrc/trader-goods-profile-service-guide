---
title: API reference
weight: 50
---

# API reference

<div class="govuk-inset-text">
This API is in Alpha and may have breaking changes.
</div>

This section details the APIs exposed in TGP and their specification.

## Authentication and Authorisation

Learn about the user-restricted [authentication][USER_AUTH] used by the API.

HMRC supports OAuth 2.0 for authenticating user restricted API requests using an OAuth 2.0 Bearer Token in the AUTHORIZATION header. Find out more about [Authorisation][AUTHORISATION].

Flow type: authorizationCode

Authorization URL: <https://api.service.hmrc.gov.uk/oauth/authorize>

Token URL: <https://api.service.hmrc.gov.uk/oauth/token>

Refresh URL: <https://api.service.hmrc.gov.uk/oauth/refresh>

Required scopes: trader-goods-profiles

Learn more about the [Trader Goods Profile API endpoints][API_SPEC].

## Trader Goods Profile stubs

Below are a list of EORI numbers that you can use to get different results with these stubs.

### Create Record stubs

<table>
  <tr>
    <th>EORI to provide</th>
    <th>EXPECTED RESPONSE</th>
    <th>STATUS CODE</th>
  </tr>
  <tr>
    <td>GB123456789001</td>
    <td>CREATED</td>
    <td>201</td>
  </tr>
  <tr>
    <td>GB123456789002_notUnique</td>
    <td>Invalid Request Parameter</td>
    <td>400</td>
  </tr>
  <tr>
    <td>GB123456789003_invalidPayload</td>
    <td>Invalid payload</td>
    <td>400</td>
  </tr>
  <tr>
    <td>GB123456789004_missingMultipleFields</td>
    <td>Invalid Request Parameter</td>
    <td>400</td>
  </tr>
  <tr>
    <td>GB123456789005_invalidUrl</td>
    <td>Not found</td>
    <td>404</td>
  </tr>
  <tr>
    <td>GB123456789006_invalidMethod</td>
    <td>Invalid Method</td>
    <td>405</td>
  </tr>
  <tr>
    <td>GB123456789007_unauthorised</td>
    <td>Internal server error</td>
    <td>500</td>
  </tr>
  <tr>
    <td>GB123456789008_internalServerError</td>
    <td>Internal server error</td>
    <td>500</td>
  </tr>
  <tr>
    <td>GB123456789009_internalServerError_withInvalidResponse</td>
    <td>Internal server error</td>
    <td>500</td>
  </tr>
  <tr>
    <td>GB123456789010_internalServerError_withValidResponse</td>
    <td>Internal server error</td>
    <td>500</td>
  </tr>
</table>

### Example request

```json
{
  "eori": "<replace with above field for the desired result>",
  "actorId": "GB098765432112",
  "traderRef": "BAN001001",
  "comcode": "104101000",
  "goodsDescription": "Organic bananas",
  "countryOfOrigin": "EC",
  "category": 1,
  "assessments": [
    {
      "assessmentId": "abc123",
      "primaryCategory": 1,
      "condition": {
        "type": "abc123",
        "conditionId": "Y923",
        "conditionDescription": "Products not considered as waste according to Regulation (EC) No 1013/2006 as retained in UK law",
        "conditionTraderText": "Excluded product"
      }
    }
  ],
  "supplementaryUnit": 500,
  "measurementUnit": "Square metre (mÂ²)",
  "comcodeEffectiveFromDate": "2024-11-18T23:20:19Z",
  "comcodeEffectiveToDate": "2028-11-18T23:20:19Z"
}
```

[USER_AUTH]: </api-documentation/docs/authorisation/user-restricted-endpoints>
[AUTHORISATION]: </api-documentation/docs/authorisation>
[API_SPEC]: </api-documentation/docs/api/service/trader-goods-profiles/1.0/oas/page>
